<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unhaze - A 14-Day Journey Back to Yourself</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;
    const translations = {
      en: {
        title: 'UNHAZE', subtitle: 'A 14-Day Journey Back to Yourself', progress: 'Progress',
        journeyStarted: 'Journey started', daysAgo: 'days ago', dayAgo: 'day ago', completed: 'completed',
        backToJourney: 'Back to Journey', yourTask: 'Your Task', saveContinue: 'Save & Continue',
        statusCompleted: 'Completed', statusAvailable: 'Available Now', statusUnlocksIn: 'Unlocks in',
        statusCompletePrev: 'Complete previous day', reviewAnswer: 'Review your answer', beginDay: 'Begin this day', day: 'Day',
        days: [
          { chapter: 'The Fog', title: 'Who Are You?', color: '#8B9DC3',
            story: `You wake up in the fog. You don't remember how you got here. Only your name echoes inside. Everything else is empty.\n\nBut you feel it: you're not a random traveler. There was something strong in you. You just forgot.`,
            task: 'Write down 3 words that described you before the fog. What were you like? Not perfect, but real.',
            placeholder: 'Example: Alive. Playful. Restless...' },
          { chapter: 'The Fog', title: 'What Stayed?', color: '#8B9DC3',
            story: `The fog is still thick, but you begin to feel something inside—a quiet presence. Something survived.\n\nEven if almost everything was erased, you carried something with you.`,
            task: 'Write 3 things that stayed with you through any changes.', placeholder: 'What stayed with you...' },
          { chapter: 'The Fog', title: 'The Voice Within', color: '#8B9DC3',
            story: `You continue walking through the fog. Inside, it becomes quieter.\n\nIn this silence, you catch something subtle. Your inner voice. Quiet, but real.`,
            task: 'Write a short message from yourself to yourself.', placeholder: 'Your message to yourself...' },
          { chapter: 'First Light', title: 'The Mirror', color: '#A8B5D1',
            story: `You find a misty mirror. It shows moments where you acted like yourself. Without masks.`,
            task: 'Write 2-3 words that describe how you act when everything is real.', placeholder: 'Your true qualities...' },
          { chapter: 'Echo Tower', title: 'Crossroads', color: '#C5A8D1',
            story: `You reach a crossroads. Two paths. Both call. This is a test of trusting yourself.`,
            task: 'Which path do you choose and why?', placeholder: 'Your choice...' },
          { chapter: 'Echo Tower', title: 'Deeper', color: '#C5A8D1',
            story: `The path didn't say if it was right or wrong. But something inside became different. Quieter. More honest.`,
            task: 'What is leading me now?', placeholder: 'What drives you...' },
          { chapter: 'Echo Tower', title: 'The Deep Knot', color: '#C5A8D1',
            story: `Time to look at what truly holds you. The internal knot that controls your decisions.`,
            task: 'What holds you back? Where do you feel it?', placeholder: 'What stops you...' },
          { chapter: 'Echo Tower', title: 'Shadows', color: '#C5A8D1',
            story: `Now see what is usually turned away from. Your shadow. The traits you rejected.`,
            task: 'What in you do you not want to acknowledge?', placeholder: 'Your shadow...' },
          { chapter: 'Memory of Fire', title: 'Your Fire', color: '#D1A88B',
            story: `You approach the fire. Remember who you are when you're alive.`,
            task: 'Describe a moment when you felt truly alive.', placeholder: 'When you felt alive...' },
          { chapter: 'Memory of Fire', title: 'The Leak', color: '#D1A88B',
            story: `Time to protect your fire. What drains your energy?`,
            task: 'What burns you out? What can you NOT do?', placeholder: 'What drains you...' },
          { chapter: 'The Open World', title: 'First Steps', color: '#8BD1A8',
            story: `You step outside. Changed. Now you begin to live as who you've become.`,
            task: 'What will you not take from your past? How will you start your mornings?', placeholder: 'Your new beginning...' },
          { chapter: 'The Open World', title: 'Stability', color: '#8BD1A8',
            story: `The world checks you: For stability. For honesty. For remaining yourself.`,
            task: 'Create an anchor that will bring you back to yourself.', placeholder: 'Your anchor...' },
          { chapter: 'The Open World', title: 'Assembly', color: '#8BD1A8',
            story: `Point of assembly. You're returning a real, lived sense of wholeness.`,
            task: 'What did you learn? What stays? What goes?', placeholder: 'Your artifact...' },
          { chapter: 'The Open World', title: 'The Message', color: '#8BD1A8',
            story: `Final screen. You walked the path. Now you know—you have everything to be yourself.`,
            task: 'Write a message to someone beginning this journey.', placeholder: 'Your message...' }
        ]
      },
      ru: {
        title: 'UNHAZE', subtitle: '14-дневное путешествие к себе', progress: 'Прогресс',
        journeyStarted: 'Путешествие началось', daysAgo: 'дней назад', dayAgo: 'день назад', completed: 'завершено',
        backToJourney: 'Вернуться к путешествию', yourTask: 'Твоя задача', saveContinue: 'Сохранить и продолжить',
        statusCompleted: 'Завершено', statusAvailable: 'Доступен сейчас', statusUnlocksIn: 'Откроется через',
        statusCompletePrev: 'Завершите предыдущий день', reviewAnswer: 'Просмотреть ответ', beginDay: 'Начать этот день', day: 'День',
        days: [
          { chapter: 'Туман', title: 'Кто ты?', color: '#8B9DC3',
            story: `Ты просыпаешься в тумане. Ты не помнишь, как оказался здесь. Только имя звучит внутри. Остальное — пусто.\n\nНо ты чувствуешь: ты не случайный путник. В тебе было что-то сильное. Ты просто забыл.`,
            task: 'Запиши 3 слова, которые описывали тебя до тумана. Каким ты был? Не идеальным, а настоящим.',
            placeholder: 'Пример: Живой. Игривый. Беспокойный...' },
          { chapter: 'Туман', title: 'Что осталось?', color: '#8B9DC3',
            story: `Туман всё ещё плотный, но ты начинаешь ощущать внутри тихое присутствие — что-то уцелело.\n\nДаже если почти всё стёрлось, кое-что ты пронёс с собой.`,
            task: 'Вспомни и запиши 3 вещи, которые остались с тобой сквозь любые перемены.', placeholder: 'Что осталось с тобой...' },
          { chapter: 'Туман', title: 'Голос изнутри', color: '#8B9DC3',
            story: `Ты продолжаешь идти через туман. Внутри становится тише.\n\nИ в этой тишине ты вдруг улавливаешь что-то тонкое. Твой внутренний голос. Тихий, но настоящий.`,
            task: 'Напиши короткое послание от себя к себе.', placeholder: 'Твоё послание себе...' },
          { chapter: 'Первый свет', title: 'Зеркало', color: '#A8B5D1',
            story: `Ты находишь туманное зеркало. Оно показывает моменты, когда ты поступал как ты. Без масок.`,
            task: 'Напиши 2-3 слова, которые описывают, как ты действуешь, когда всё по-настоящему.', placeholder: 'Твои истинные качества...' },
          { chapter: 'Башня эха', title: 'Перекрёсток', color: '#C5A8D1',
            story: `Ты доходишь до перекрёстка. Два пути. Оба зовут. Это испытание доверия себе.`,
            task: 'Какой путь ты выбираешь и почему?', placeholder: 'Твой выбор...' },
          { chapter: 'Башня эха', title: 'Глубже', color: '#C5A8D1',
            story: `Путь не сказал, правильный он или нет. Но сразу после — внутри стало немного иначе. Тише. Честнее.`,
            task: 'Что сейчас ведёт меня?', placeholder: 'Что движет тобой...' },
          { chapter: 'Башня эха', title: 'Глубинный узел', color: '#C5A8D1',
            story: `Пора заглянуть туда, где живёт то, что по-настоящему держит тебя. Внутренний узел, который управляет твоими решениями.`,
            task: 'Что тебя держит? Где ты это ощущаешь?', placeholder: 'Что тебя останавливает...' },
          { chapter: 'Башня эха', title: 'Тени', color: '#C5A8D1',
            story: `Теперь увидь то, от чего обычно отворачиваются. Твою тень. Черты, которые ты отверг.`,
            task: 'Что во мне я не хочу признавать?', placeholder: 'Твоя тень...' },
          { chapter: 'Память огня', title: 'Твой огонь', color: '#D1A88B',
            story: `Ты подходишь к огню. Вспомни, кто ты, когда ты жив.`,
            task: 'Опиши момент, когда ты чувствовал себя по-настоящему живым.', placeholder: 'Когда ты был жив...' },
          { chapter: 'Память огня', title: 'Утечка', color: '#D1A88B',
            story: `Время защитить твой огонь. Что истощает твою энергию?`,
            task: 'Что тебя выжигает? Что ты можешь НЕ делать?', placeholder: 'Что тебя истощает...' },
          { chapter: 'Открытый мир', title: 'Первые шаги', color: '#8BD1A8',
            story: `Ты выходишь наружу. Изменённый. Теперь ты начинаешь жить как тот, кем стал.`,
            task: 'Что ты не возьмёшь с собой из прошлого? Как ты хочешь начинать своё утро?', placeholder: 'Твоё новое начало...' },
          { chapter: 'Открытый мир', title: 'Устойчивость', color: '#8BD1A8',
            story: `Мир проверяет тебя: на устойчивость, на честность, на то, останешься ли ты собой.`,
            task: 'Создай якорь, который будет возвращать тебя к себе.', placeholder: 'Твой якорь...' },
          { chapter: 'Открытый мир', title: 'Сборка', color: '#8BD1A8',
            story: `Точка сборки. Ты возвращаешь реальное, прожитое ощущение целостности.`,
            task: 'Что ты узнал? Что остаётся? Что уходит?', placeholder: 'Твой артефакт...' },
          { chapter: 'Открытый мир', title: 'Послание', color: '#8BD1A8',
            story: `Финальный экран. Ты прошёл путь. Теперь ты знаешь — у тебя есть всё, чтобы быть собой.`,
            task: 'Напиши послание тому, кто начинает это путешествие.', placeholder: 'Твоё послание...' }
        ]
      }
    };

    const Globe = () => (
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/>
        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
      </svg>
    );
    const ArrowRight = () => (<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>);
    const Lock = () => (<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>);
    const CheckCircle = () => (<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>);
    const Circle = () => (<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/></svg>);
    const Clock = () => (<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>);

    function App() {
      const [language, setLanguage] = useState('en');
      const [currentDay, setCurrentDay] = useState(null);
      const [answers, setAnswers] = useState({});
      const [currentAnswer, setCurrentAnswer] = useState('');
      const [completedDays, setCompletedDays] = useState([]);
      const [startDate, setStartDate] = useState(null);
      const [displayedStory, setDisplayedStory] = useState('');
      const [isTyping, setIsTyping] = useState(false);
      const [currentTime, setCurrentTime] = useState(new Date());

      const t = translations[language];

      useEffect(() => {
        try {
          const saved = localStorage.getItem('unhaze_answers');
          const savedCompleted = localStorage.getItem('unhaze_completed');
          const savedStart = localStorage.getItem('unhaze_start_date');
          const savedLang = localStorage.getItem('unhaze_language');
          if (saved) setAnswers(JSON.parse(saved));
          if (savedCompleted) setCompletedDays(JSON.parse(savedCompleted));
          if (savedStart) setStartDate(new Date(savedStart));
          if (savedLang) setLanguage(savedLang);
        } catch (e) {}
      }, []);

      useEffect(() => {
        const timer = setInterval(() => setCurrentTime(new Date()), 1000);
        return () => clearInterval(timer);
      }, []);

      useEffect(() => {
        if (!currentDay) return;
        setDisplayedStory('');
        setIsTyping(true);
        const day = t.days[currentDay.day - 1];
        let index = 0;
        const timer = setInterval(() => {
          if (index < day.story.length) {
            setDisplayedStory(day.story.slice(0, index + 1));
            index++;
          } else {
            setIsTyping(false);
            clearInterval(timer);
          }
        }, 30);
        return () => clearInterval(timer);
      }, [currentDay, language]);

      const toggleLanguage = () => {
        const newLang = language === 'en' ? 'ru' : 'en';
        setLanguage(newLang);
        localStorage.setItem('unhaze_language', newLang);
      };

      const saveAnswer = () => {
        if (!currentAnswer.trim()) return;
        let newStartDate = startDate;
        if (!startDate) {
          newStartDate = new Date();
          setStartDate(newStartDate);
          localStorage.setItem('unhaze_start_date', newStartDate.toISOString());
        }
        const newAnswers = { ...answers, [currentDay.day]: currentAnswer };
        const newCompleted = [...new Set([...completedDays, currentDay.day])];
        setAnswers(newAnswers);
        setCompletedDays(newCompleted);
        try {
          localStorage.setItem('unhaze_answers', JSON.stringify(newAnswers));
          localStorage.setItem('unhaze_completed', JSON.stringify(newCompleted));
        } catch (e) {}
        setTimeout(() => { setCurrentDay(null); setCurrentAnswer(''); }, 800);
      };

      const startDay = (dayNum) => {
        setTimeout(() => {
          setCurrentDay({ day: dayNum, color: t.days[dayNum - 1].color });
          setCurrentAnswer(answers[dayNum] || '');
        }, 300);
      };

      const getDayStatus = (dayNum) => {
        const completed = completedDays.includes(dayNum);
        if (completed) return { status: 'completed', unlocked: true };
        if (dayNum === 1) return { status: 'available', unlocked: true };
        const prevCompleted = completedDays.includes(dayNum - 1);
        if (!prevCompleted || !startDate) return { status: 'locked-prev', unlocked: false };
        const startDay = new Date(startDate);
        startDay.setHours(0, 0, 0, 0);
        const today = new Date(currentTime);
        today.setHours(0, 0, 0, 0);
        const daysSinceStart = Math.floor((today - startDay) / (1000 * 60 * 60 * 24));
        const requiredDay = dayNum - 1;
        if (daysSinceStart >= requiredDay) {
          return { status: 'available', unlocked: true };
        } else {
          const tomorrow = new Date(currentTime);
          tomorrow.setHours(24, 0, 0, 0);
          const msUntilMidnight = tomorrow - currentTime;
          const hoursUntilMidnight = msUntilMidnight / (1000 * 60 * 60);
          const daysNeeded = requiredDay - daysSinceStart;
          const totalHours = hoursUntilMidnight + (daysNeeded - 1) * 24;
          return { status: 'locked-time', unlocked: false, hoursLeft: totalHours };
        }
      };

      const getTimeRemaining = (hours) => {
        const totalMinutes = Math.ceil(hours * 60);
        const h = Math.floor(totalMinutes / 60);
        const m = totalMinutes % 60;
        if (h === 0) return `${m}m`;
        return `${h}h ${m}m`;
      };

      const getJourneyStats = () => {
        if (!startDate) return null;
        const daysSince = Math.floor((currentTime - startDate) / (1000 * 60 * 60 * 24));
        return { daysStarted: daysSince + 1, completed: completedDays.length };
      };

      const JourneyMap = () => {
        const mapWidth = 800, mapHeight = 600, padding = 60;
        const getNodePosition = (index) => {
          const cols = 4, row = Math.floor(index / cols), col = index % cols;
          const xSpacing = (mapWidth - padding * 2) / (cols - 1);
          const ySpacing = (mapHeight - padding * 2) / 3;
          const x = padding + col * xSpacing, y = padding + row * ySpacing;
          const wobble = (index % 2 === 0 ? 15 : -15);
          return { x: x + wobble, y };
        };
        const getPathBetween = (index1, index2) => {
          const p1 = getNodePosition(index1), p2 = getNodePosition(index2);
          const midX = (p1.x + p2.x) / 2, midY = (p1.y + p2.y) / 2, curve = 30;
          return `M ${p1.x} ${p1.y} Q ${midX} ${midY + curve} ${p2.x} ${p2.y}`;
        };

        return (
          <div style={{ width: '100%', maxWidth: '900px', margin: '0 auto 3rem', overflowX: 'auto' }}>
            <svg viewBox={`0 0 ${mapWidth} ${mapHeight}`} style={{ width: '100%', height: 'auto' }}>
              <defs>
                <linearGradient id="pathGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" style={{ stopColor: '#475569', stopOpacity: 0.3 }} />
                  <stop offset="100%" style={{ stopColor: '#6366f1', stopOpacity: 0.6 }} />
                </linearGradient>
                <filter id="glow">
                  <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                  <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
                </filter>
              </defs>
              {t.days.slice(0, -1).map((day, i) => {
                const status = getDayStatus(i + 1);
                const pathColor = status.status === 'completed' ? day.color : 'url(#pathGradient)';
                return (
                  <path key={`path-${i}`} d={getPathBetween(i, i + 1)} fill="none" stroke={pathColor}
                    strokeWidth="3" strokeDasharray={status.status === 'completed' ? '0' : '8 4'}
                    opacity={status.status === 'completed' ? 0.8 : 0.3} style={{ transition: 'all 0.5s ease' }}
                  />
                );
              })}
              {t.days.map((day, index) => {
                const pos = getNodePosition(index);
                const status = getDayStatus(index + 1);
                let nodeColor = '#334155', nodeOpacity = 0.3, ringColor = '#475569', textColor = '#64748b';
                if (status.status === 'completed') {
                  nodeColor = day.color; nodeOpacity = 1; ringColor = day.color; textColor = '#fff';
                } else if (status.status === 'available') {
                  nodeColor = day.color; nodeOpacity = 0.7; ringColor = day.color; textColor = '#e2e8f0';
                }
                return (
                  <g key={`node-${index}`} style={{ cursor: status.unlocked ? 'pointer' : 'default' }}
                    onClick={() => status.unlocked && startDay(index + 1)}>
                    {status.status === 'available' && (
                      <circle cx={pos.x} cy={pos.y} r="22" fill="none" stroke={ringColor} strokeWidth="2" opacity="0.5">
                        <animate attributeName="r" values="22;28;22" dur="2s" repeatCount="indefinite" />
                        <animate attributeName="opacity" values="0.5;0.1;0.5" dur="2s" repeatCount="indefinite" />
                      </circle>
                    )}
                    <circle cx={pos.x} cy={pos.y} r="18" fill={nodeColor} opacity={nodeOpacity}
                      filter={status.status === 'completed' ? 'url(#glow)' : ''} style={{ transition: 'all 0.3s ease' }} />
                    {status.status === 'completed' && (
                      <g transform={`translate(${pos.x - 8}, ${pos.y - 8})`}>
                        <path d="M13 8l-4 4-2-2" fill="none" stroke="#fff" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                      </g>
                    )}
                    {!status.unlocked && (
                      <g transform={`translate(${pos.x - 6}, ${pos.y - 8})`}>
                        <rect x="1" y="5" width="10" height="7" rx="1" fill="none" stroke={textColor} strokeWidth="1.5"/>
                        <path d="M3 5V3a3 3 0 0 1 6 0v2" fill="none" stroke={textColor} strokeWidth="1.5"/>
                      </g>
                    )}
                    <text x={pos.x} y={pos.y + 35} textAnchor="middle" fill={textColor} fontSize="11" fontWeight="600"
                      style={{ transition: 'all 0.3s ease' }}>{t.day} {index + 1}</text>
                  </g>
                );
              })}
            </svg>
          </div>
        );
      };

      if (currentDay) {
        const day = t.days[currentDay.day - 1];
        return (
          <div style={{ minHeight: '100vh', backgroundColor: '#000', color: '#fff', padding: '1rem', position: 'relative', overflow: 'hidden' }}>
            <div style={{ position: 'absolute', top: '1rem', right: '1rem', zIndex: 20 }}>
              <button onClick={toggleLanguage} style={{ padding: '0.5rem 1rem', backgroundColor: 'rgba(30, 41, 59, 0.8)',
                backdropFilter: 'blur(16px)', border: '1px solid rgba(51, 65, 85, 0.5)', borderRadius: '0.5rem',
                color: '#e2e8f0', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '0.5rem',
                fontSize: '0.875rem', fontWeight: '600' }}>
                <Globe /> {language === 'en' ? 'RU' : 'EN'}
              </button>
            </div>
            <div style={{ position: 'relative', zIndex: 10, maxWidth: '48rem', margin: '0 auto' }}>
              <button onClick={() => setCurrentDay(null)} style={{ marginBottom: '2rem', color: '#94a3b8',
                background: 'none', border: 'none', cursor: 'pointer', fontSize: '0.875rem' }}>
                ← {t.backToJourney}
              </button>
              <div style={{ marginBottom: '2rem' }}>
                <span style={{ padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.75rem',
                  backgroundColor: currentDay.color + '40', color: currentDay.color, display: 'inline-block', marginBottom: '1rem' }}>
                  {day.chapter}
                </span>
                <h1 style={{ fontSize: '2.5rem', fontWeight: '300', color: currentDay.color, marginBottom: '1rem' }}>
                  {day.title}
                </h1>
              </div>
              <div style={{ marginBottom: '2rem', padding: '1.5rem', backgroundColor: 'rgba(15, 23, 42, 0.5)',
                backdropFilter: 'blur(16px)', borderRadius: '1rem', border: '1px solid rgba(51, 65, 85, 0.3)' }}>
                <p style={{ fontSize: '1.125rem', lineHeight: '1.75', whiteSpace: 'pre-line', color: '#cbd5e1' }}>
                  {displayedStory}{isTyping && <span>▌</span>}
                </p>
              </div>
              <div style={{ marginBottom: '1.5rem', padding: '1.5rem', backgroundColor: 'rgba(15, 23, 42, 0.5)',
                backdropFilter: 'blur(16px)', borderRadius: '1rem', border: '1px solid rgba(51, 65, 85, 0.3)' }}>
                <h3 style={{ fontSize: '1.25rem', marginBottom: '0.5rem' }}>{t.yourTask}</h3>
                <p style={{ color: '#cbd5e1' }}>{day.task}</p>
              </div>
              <textarea value={currentAnswer} onChange={(e) => setCurrentAnswer(e.target.value)}
                placeholder={day.placeholder} style={{ width: '100%', height: '12rem', padding: '1rem',
                backgroundColor: 'rgba(15, 23, 42, 0.5)', backdropFilter: 'blur(16px)',
                border: '2px solid rgba(51, 65, 85, 0.3)', borderRadius: '1rem', color: '#fff',
                fontSize: '1rem', marginBottom: '1.5rem', resize: 'none', fontFamily: 'inherit' }} />
              <button onClick={saveAnswer} disabled={!currentAnswer.trim()} style={{ width: '100%', padding: '1.25rem',
                borderRadius: '1rem', fontSize: '1.25rem', fontWeight: '600', border: 'none',
                cursor: currentAnswer.trim() ? 'pointer' : 'not-allowed',
                background: currentAnswer.trim() ? `linear-gradient(135deg, ${currentDay.color}, ${currentDay.color}dd)` : 'rgba(255,255,255,0.05)',
                color: '#fff', opacity: currentAnswer.trim() ? 1 : 0.4 }}>
                {t.saveContinue}
              </button>
            </div>
          </div>
        );
      }

      const stats = getJourneyStats();
      return (
        <div style={{ minHeight: '100vh', background: 'linear-gradient(to bottom, #0f172a, #312e81, #0f172a)',
          color: '#fff', padding: '1.5rem', position: 'relative' }}>
          <div style={{ position: 'absolute', top: '1.5rem', right: '1.5rem', zIndex: 20 }}>
            <button onClick={toggleLanguage} style={{ padding: '0.5rem 1rem', backgroundColor: 'rgba(30, 41, 59, 0.8)',
              backdropFilter: 'blur(16px)', border: '1px solid rgba(51, 65, 85, 0.5)', borderRadius: '0.5rem',
              color: '#e2e8f0', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '0.5rem',
              fontSize: '0.875rem', fontWeight: '600', transition: 'all 0.3s' }}>
              <Globe /> {language === 'en' ? 'RU' : 'EN'}
            </button>
          </div>
          <div style={{ maxWidth: '64rem', margin: '0 auto' }}>
            <div style={{ textAlign: 'center', marginBottom: '3rem', paddingTop: '2rem' }}>
              <h1 style={{ fontSize: '4rem', fontWeight: '900', marginBottom: '1rem',
                background: 'linear-gradient(to right, #cbd5e1, #a5b4fc, #cbd5e1)',
                WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent', backgroundClip: 'text' }}>
                {t.title}
              </h1>
              <p style={{ fontSize: '1.25rem', color: '#94a3b8', marginBottom: '0.5rem' }}>{t.subtitle}</p>
              {stats && (
                <p style={{ fontSize: '0.875rem', color: '#64748b' }}>
                  {t.journeyStarted} {stats.daysStarted} {stats.daysStarted === 1 ? t.dayAgo : t.daysAgo} • {stats.completed}/14 {t.completed}
                </p>
              )}
            </div>
            <JourneyMap />
            <div style={{ marginBottom: '2rem', padding: '1.5rem', backgroundColor: 'rgba(30, 41, 59, 0.4)',
              backdropFilter: 'blur(16px)', borderRadius: '1rem', border: '1px solid rgba(51, 65, 85, 0.5)' }}>
              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.75rem' }}>
                <span style={{ color: '#94a3b8', fontSize: '0.875rem' }}>{t.progress}</span>
                <span style={{ color: '#cbd5e1', fontWeight: '700' }}>{completedDays.length}/14</span>
              </div>
              <div style={{ width: '100%', height: '0.75rem', backgroundColor: 'rgba(51, 65, 85, 0.5)',
                borderRadius: '9999px', overflow: 'hidden' }}>
                <div style={{ height: '100%', width: `${(completedDays.length / 14) * 100}%`,
                  background: 'linear-gradient(to right, #6366f1, #a855f7)', transition: 'width 1s' }} />
              </div>
            </div>
            <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
              {t.days.map((day, index) => {
                const dayNum = index + 1;
                const dayStatus = getDayStatus(dayNum);
                const { status, unlocked, hoursLeft } = dayStatus;
                let statusBadge = null;
                if (status === 'completed') {
                  statusBadge = { text: t.statusCompleted, color: '#10b981', bg: '#10b98120' };
                } else if (status === 'available') {
                  statusBadge = { text: t.statusAvailable, color: '#6366f1', bg: '#6366f120' };
                } else if (status === 'locked-time') {
                  statusBadge = { text: `${t.statusUnlocksIn} ${getTimeRemaining(hoursLeft)}`, color: '#f59e0b', bg: '#f59e0b20' };
                } else {
                  statusBadge = { text: t.statusCompletePrev, color: '#64748b', bg: '#64748b20' };
                }
                return (
                  <button key={dayNum} onClick={() => unlocked && startDay(dayNum)} disabled={!unlocked}
                    style={{ width: '100%', textAlign: 'left', padding: '1.5rem', borderRadius: '1rem', border: '2px solid',
                    borderColor: unlocked ? (status === 'completed' ? day.color + '80' : 'rgba(99, 102, 241, 0.5)') : 'rgba(51, 65, 85, 0.3)',
                    backgroundColor: unlocked ? 'rgba(30, 41, 59, 0.4)' : 'rgba(15, 23, 42, 0.3)',
                    backdropFilter: 'blur(16px)', cursor: unlocked ? 'pointer' : 'not-allowed',
                    opacity: unlocked ? 1 : 0.6, transition: 'all 0.3s', transform: unlocked ? 'scale(1)' : 'scale(0.98)' }}>
                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '0.75rem' }}>
                      <div style={{ display: 'flex', gap: '0.75rem', alignItems: 'center' }}>
                        <span style={{ color: '#64748b', fontSize: '0.875rem', fontWeight: '600' }}>{t.day} {dayNum}</span>
                        <span style={{ fontSize: '0.75rem', padding: '0.125rem 0.5rem', borderRadius: '9999px',
                          backgroundColor: 'rgba(51, 65, 85, 0.5)', color: '#94a3b8' }}>{day.chapter}</span>
                      </div>
                      <span style={{ fontSize: '0.75rem', padding: '0.25rem 0.75rem', borderRadius: '9999px',
                        backgroundColor: statusBadge.bg, color: statusBadge.color, fontWeight: '600',
                        display: 'flex', alignItems: 'center', gap: '0.25rem' }}>
                        {status === 'locked-time' && <Clock />}{statusBadge.text}
                      </span>
                    </div>
                    <h3 style={{ fontSize: '1.5rem', fontWeight: '700', marginBottom: '0.5rem',
                      color: status === 'completed' ? day.color : '#e2e8f0' }}>{day.title}</h3>
                    <p style={{ color: '#94a3b8', fontSize: '0.875rem' }}>{day.story.substring(0, 80)}...</p>
                    {unlocked && (
                      <div style={{ marginTop: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem',
                        color: status === 'completed' ? day.color : '#818cf8', fontSize: '0.875rem', fontWeight: '600' }}>
                        {status === 'completed' ? t.reviewAnswer : t.beginDay} <ArrowRight />
                      </div>
                    )}
                  </button>
                );
              })}
            </div>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
